#include <stdio.h>
#include <stdlib.h>
#include <conio.h>

char map[25][25]={
        1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
        1,	0,	0,	0,	0,	0,	1,	0,	0,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,
        1,	1,	1,	1,	1,	0,	1,	0,	1,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	1,	0,	1,
        1,	0,	1,	0,	0,	0,	1,	0,	0,	1,	1,	1,	0,	0,	1,	1,	1,	1,	0,	1,	0,	0,	1,	0,	1,
        1,	0,	0,	0,	1,	0,	1,	0,	1,	1,	0,	1,	1,	1,	1,	0,	1,	0,	0,	0,	1,	0,	1,	0,	1,
        1,	0,	1,	1,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	0,	1,	0,	1,
        1,	0,	1,	0,	1,	0,	0,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	0,	0,	1,	0,	0,	1,	0,	1,
        1,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	0,	1,	1,	0,	1,
        1,	0,	1,	0,	1,	0,	1,	1,	1,	1,	1,	1,	0,	0,	1,	1,	1,	1,	0,	1,	0,	0,	1,	0,	1,
        1,	0,	1,	0,	1,	0,	0,	0,	0,	0,	0,	1,	0,	1,	1,	0,	0,	0,	0,	1,	1,	0,	1,	0,	1,
        1,	0,	1,	0,	0,	1,	1,	1,	1,	1,	0,	1,	0,	0,	0,	0,	1,	1,	0,	1,	0,	0,	1,	0,	1,
        1,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	1,	0,	0,	1,	0,	0,	0,	0,	0,	0,	1,	1,	0,	1,
        1,	0,	0,	0,	0,	0,	1,	0,	0,	1,	0,	1,	0,	0,	1,	1,	1,	1,	1,	1,	1,	0,	1,	0,	1,
        1,	0,	1,	1,	1,	1,	1,	1,	0,	1,	0,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	1,
        1,	0,	1,	0,	0,	0,	0,	1,	0,	1,	0,	0,	0,	0,	1,	0,	0,	1,	1,	1,	0,	0,	1,	0,	1,
        1,	0,	1,	1,	1,	1,	0,	1,	0,	1,	1,	1,	1,	0,	1,	0,	0,	1,	0,	1,	1,	1,	0,	0,	1,
        1,	0,	0,	0,	0,	0,	0,	1,	0,	1,	1,	0,	0,	0,	1,	0,	1,	0,	1,	0,	0,	0,	0,	0,	1,
        1,	1,	1,	1,	1,	1,	1,	1,	0,	1,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	1,	1,	1,	0,	1,
        1,	0,	0,	0,	0,	0,	0,	0,	0,	1,	0,	1,	1,	0,	1,	0,	1,	1,	1,	0,	0,	0,	1,	0,	1,
        1,	0,	1,	1,	1,	1,	1,	1,	0,	0,	0,	0,	1,	0,	1,	0,	0,	0,	0,	0,	1,	0,	1,	0,	1,
        1,	0,	1,	0,	0,	0,	0,	0,	0,	1,	1,	0,	1,	0,	0,	1,	1,	1,	1,	0,	1,	0,	1,	0,	1,
        1,	0,	1,	0,	1,	1,	1,	1,	1,	1,	0,	0,	1,	0,	0,	0,	0,	0,	0,	0,	1,	0,	1,	0,	1,
        1,	0,	1,	1,	1,	0,	0,	0,	0,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	0,	1,	0,	1,	1,	1,
        1,	0,	0,	0,	0,	0,	1,	1,	1,	1,	1,	1,	1, 	0,	1,	0,	0,	0,	0,	0,	1,	0,	0,	0,	1,
        1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,	1,
};
void Chushihua(char *p){
    *(p+1*25+1) = 2;
    *(p+23*25+23) = 3;
}
void Move(char a,char *p,int *i,int *j){
    if (a == 'w'){
        if(*(p+(*i-1)*25+*j)==0||*(p+(*i-1)*25+*j)==3) {
            *(p+*i*25+*j) = 0;
            *(p + (*i - 1) * 25 + *j) = 2;
            (*i)--;
        }
    }//向上移动
    else if (a == 's'){
        if(*(p+(*i+1)*25+*j)==0||*(p+(*i+1)*25+*j)==3){
            *(p+*i*25+*j) = 0;
            *(p+(*i+1)*25+*j) = 2;
            (*i)++;
        }
    }//向下移动
    else if (a == 'a'){
        if(*(p+*i*25+*j-1)==0||*(p+*i*25+*j-1)==3) {
            *(p+*i*25+*j) = 0;
            *(p + *i * 25 + *j - 1) = 2;
            (*j)--;
        }
    }//向左移动
    else if (a == 'd'){
        if(*(p+*i*25+*j+1)==0||*(p+*i*25+*j+1)==3) {
            *(p+*i*25+*j) = 0;
            *(p + *i * 25 + *j + 1) = 2;
            (*j)++;
        }
    }//向右移动
}
int main(){
    char a = '\0';
    char *p;
    int i = 1,j = 1;
    p = map[0];
    Chushihua(p);
    for(int x=0;x<25;x++){
        for(int y=0;y<25;y++){
            if (*(p+x*25+y)==0)
                printf("%c",' ');
            else if (*(p+x*25+y)==1)
                printf("%c%c",0xa8,0x80);
            else if (*(p+x*25+y)==2)
                printf("%c",'O');
            else if (*(p + x * 25 + y) == 3)
                printf("%c",'*');
        }
        printf("\n");
    }
         do{
            system("cls");
             Move(a, p, &i, &j);
            for (int x = 0; x < 25; x++) {
                for (int y = 0; y < 25; y++) {
                    if (*(p + x * 25 + y) == 0)
                        printf("%c", ' ');
                    else if (*(p + x * 25 + y) == 1)
                        printf("%c%c", 0xa8, 0x80);
                    else if (*(p + x * 25 + y) == 2)
                        printf("%c", 'O');
                    else if (*(p + x * 25 + y) == 3)
                        printf("%c",'*');
                }
                printf("\n");
            }

            if (*(p + 23 * 25 + 23) == 2)
                break;
            a = '\0';
    }while(a = getch());
    system("cls");
    printf("YOU WIN!");
    system("pause");
    return 0;
}